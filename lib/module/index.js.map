{"version":3,"names":["NativeModules","NativeEventEmitter","EventEmitter","AppleLLMModule","console","log","Error","isFoundationModelsEnabled","AppleLLMSession","toolHandlers","Map","isConfigured","constructor","eventEmitter","configure","options","tools","clear","Promise","all","map","tool","registerTool","success","configureSession","generateText","ensureConfigured","listener","addListener","_event","stream","emit","chunk","result","prompt","remove","generateStructuredOutput","generateWithTools","activeToolListener","streamListener","event","handler","get","name","handleToolResult","id","error","parameters","message","undefined","toolDefinition","set","schema","reset","resetSession","dispose","generateTextStream","ReadableStream","start","controller","streamEmitter","on","enqueue","close","removeAllListeners","defaultSession","getDefaultSession"],"sourceRoot":"../../src","sources":["index.tsx"],"mappings":"AAAA,SAASA,aAAa,EAAEC,kBAAkB,QAAQ,cAAc;AAChE,SAASC,YAAY,QAAQ,QAAQ;AAErC,MAAM;EAAEC;AAAe,CAAC,GAAGH,aAAa;AAExC,IAAI,CAACG,cAAc,EAAE;EACnBC,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;EACtD,MAAM,IAAIC,KAAK,CAAC,yCAAyC,CAAC;AAC5D;AAYA;AACA;AACA;AACA;AACA,OAAO,MAAMC,yBAAyB,GACpC,MAAAA,CAAA,KAAmD;EACjD,OAAOJ,cAAc,CAACI,yBAAyB,CAAC,CAAC;AACnD,CAAC;;AAEH;AACA;AACA;AACA,OAAO,MAAMC,eAAe,CAAC;EACnBC,YAAY,GAAG,IAAIC,GAAG,CAA4C,CAAC;EAEnEC,YAAY,GAAG,KAAK;EAG5BC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,YAAY,GAAG,IAAIZ,kBAAkB,CAACE,cAAc,CAAC;EAC5D;;EAEA;AACF;AACA;EACE,MAAMW,SAASA,CACbC,OAAyB,EACzBC,KAAwB,EACN;IAClB;IACA,IAAI,CAACP,YAAY,CAACQ,KAAK,CAAC,CAAC;;IAEzB;IACA,IAAID,KAAK,EAAE;MACT,MAAME,OAAO,CAACC,GAAG,CACfH,KAAK,CAACI,GAAG,CAAC,MAAMC,IAAI,IAAI;QACtB,MAAM,IAAI,CAACC,YAAY,CAACD,IAAI,CAAC;MAC/B,CAAC,CACH,CAAC;IACH;IAEA,MAAME,OAAO,GAAG,MAAMpB,cAAc,CAACqB,gBAAgB,CAACT,OAAO,CAAC;IAC9D,IAAI,CAACJ,YAAY,GAAGY,OAAO;IAC3B,OAAOA,OAAO;EAChB;;EAEA;AACF;AACA;EACE,MAAME,YAAYA,CAACV,OAA+B,EAAmB;IACnE,IAAI,CAACW,gBAAgB,CAAC,CAAC;IAEvB,MAAMC,QAAQ,GAAG,IAAI,CAACd,YAAY,CAACe,WAAW,CAC5C,qBAAqB,EACpBC,MAAyB,IAAK;MAC7B;MACA,MAAMC,MAAM,GAAGf,OAAO,CAACe,MAAM;MAC7B,IAAIA,MAAM,EAAEA,MAAM,CAACC,IAAI,CAAC,MAAM,EAAEF,MAAM,CAACG,KAAK,CAAC;IAC/C,CACF,CAAC;IAED,IAAI;MACF,MAAMC,MAAM,GAAG,MAAM9B,cAAc,CAACsB,YAAY,CAAC;QAC/CS,MAAM,EAAEnB,OAAO,CAACmB,MAAM;QACtBJ,MAAM,EAAEf,OAAO,CAACe;MAClB,CAAC,CAAC;MACF,OAAOG,MAAM;IACf,CAAC,SAAS;MACRN,QAAQ,CAACQ,MAAM,CAAC,CAAC;IACnB;EACF;;EAEA;AACF;AACA;EACE,MAAMC,wBAAwBA,CAACrB,OAA2B,EAAgB;IACxE,IAAI,CAACW,gBAAgB,CAAC,CAAC;IACvB,OAAOvB,cAAc,CAACiC,wBAAwB,CAACrB,OAAO,CAAC;EACzD;;EAEA;AACF;AACA;EACE,MAAMsB,iBAAiBA,CAACtB,OAAoC,EAAgB;IAC1E,IAAI,CAACW,gBAAgB,CAAC,CAAC;;IAEvB;IACA,IAAI,IAAI,CAACY,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACH,MAAM,CAAC,CAAC;IAClC;;IAEA;IACA,MAAMI,cAAc,GAAGxB,OAAO,CAACe,MAAM,GACjC,IAAI,CAACjB,YAAY,CAACe,WAAW,CAC3B,qBAAqB,EACpBC,MAAyB,IAAK;MAC7B,MAAMC,MAAM,GAAGf,OAAO,CAACe,MAAM;MAC7B,IAAIA,MAAM,EAAEA,MAAM,CAACC,IAAI,CAAC,MAAM,EAAEF,MAAM,CAACG,KAAK,CAAC;IAC/C,CACF,CAAC,GACD,IAAI;;IAER;IACA,IAAI,CAACM,kBAAkB,GAAG,IAAI,CAACzB,YAAY,CAACe,WAAW,CACrD,gBAAgB,EAChB,MAAOY,KAAoD,IAAK;MAC9D,IAAI;QACF,MAAMC,OAAO,GAAG,IAAI,CAAChC,YAAY,CAACiC,GAAG,CAACF,KAAK,CAACG,IAAI,CAAC;QACjD,IAAI,CAACF,OAAO,EAAE;UACZ,MAAMtC,cAAc,CAACyC,gBAAgB,CAAC;YACpCC,EAAE,EAAEL,KAAK,CAACK,EAAE;YACZtB,OAAO,EAAE,KAAK;YACduB,KAAK,EAAE,mCAAmCN,KAAK,CAACG,IAAI;UACtD,CAAC,CAAC;UACF;QACF;QAEA,MAAMV,MAAM,GAAG,MAAMQ,OAAO,CAACD,KAAK,CAACO,UAAU,CAAC;QAE9C,MAAM5C,cAAc,CAACyC,gBAAgB,CAAC;UACpCC,EAAE,EAAEL,KAAK,CAACK,EAAE;UACZtB,OAAO,EAAE,IAAI;UACbU;QACF,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOa,KAAK,EAAE;QACd,MAAM3C,cAAc,CAACyC,gBAAgB,CAAC;UACpCC,EAAE,EAAEL,KAAK,CAACK,EAAE;UACZtB,OAAO,EAAE,KAAK;UACduB,KAAK,EAAEA,KAAK,YAAYxC,KAAK,GAAGwC,KAAK,CAACE,OAAO,GAAG;QAClD,CAAC,CAAC;MACJ;IACF,CACF,CAAC;IAED,IAAI;MACF,MAAMf,MAAM,GAAG,MAAM9B,cAAc,CAACkC,iBAAiB,CAACtB,OAAO,CAAC;MAC9D,OAAOkB,MAAM;IACf,CAAC,SAAS;MACR;MACA,IAAIM,cAAc,EAAE;QAClBA,cAAc,CAACJ,MAAM,CAAC,CAAC;MACzB;MACA,IAAI,IAAI,CAACG,kBAAkB,EAAE;QAC3B,IAAI,CAACA,kBAAkB,CAACH,MAAM,CAAC,CAAC;QAChC,IAAI,CAACG,kBAAkB,GAAGW,SAAS;MACrC;IACF;EACF;;EAEA;AACF;AACA;EACE,MAAc3B,YAAYA,CAAC4B,cAA8B,EAAoB;IAC3E;IACA,IAAI,CAACzC,YAAY,CAAC0C,GAAG,CAACD,cAAc,CAACE,MAAM,CAACT,IAAI,EAAEO,cAAc,CAACT,OAAO,CAAC;;IAEzE;IACA,OAAOtC,cAAc,CAACmB,YAAY,CAAC4B,cAAc,CAACE,MAAM,CAAC;EAC3D;;EAEA;AACF;AACA;EACE,MAAMC,KAAKA,CAAA,EAAqB;IAC9B,IAAI,CAAC5C,YAAY,CAACQ,KAAK,CAAC,CAAC;IACzB,IAAI,CAACN,YAAY,GAAG,KAAK;;IAEzB;IACA,IAAI,IAAI,CAAC2B,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACH,MAAM,CAAC,CAAC;MAChC,IAAI,CAACG,kBAAkB,GAAGW,SAAS;IACrC;IAEA,OAAO9C,cAAc,CAACmD,YAAY,CAAC,CAAC;EACtC;;EAEA;AACF;AACA;EACEC,OAAOA,CAAA,EAAS;IACd,IAAI,CAAC9C,YAAY,CAACQ,KAAK,CAAC,CAAC;IACzB,IAAI,IAAI,CAACqB,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACH,MAAM,CAAC,CAAC;MAChC,IAAI,CAACG,kBAAkB,GAAGW,SAAS;IACrC;IACA,IAAI,CAACtC,YAAY,GAAG,KAAK;EAC3B;;EAEA;AACF;AACA;EACE6C,kBAAkBA,CAACzC,OAAqC,EAA0B;IAChF,IAAI,CAACW,gBAAgB,CAAC,CAAC;IAEvB,OAAO,IAAI+B,cAAc,CAAS;MAChCC,KAAK,EAAE,MAAOC,UAAU,IAAK;QAC3B,MAAMC,aAAa,GAAG,IAAI1D,YAAY,CAAC,CAAC;QAExC0D,aAAa,CAACC,EAAE,CAAC,MAAM,EAAG7B,KAAa,IAAK;UAC1C2B,UAAU,CAACG,OAAO,CAAC9B,KAAK,CAAC;QAC3B,CAAC,CAAC;QAEF,MAAML,QAAQ,GAAG,IAAI,CAACd,YAAY,CAACe,WAAW,CAC5C,qBAAqB,EACpBY,KAAwB,IAAK;UAC5BoB,aAAa,CAAC7B,IAAI,CAAC,MAAM,EAAES,KAAK,CAACR,KAAK,CAAC;QACzC,CACF,CAAC;QAED,IAAI;UACF,MAAM7B,cAAc,CAACsB,YAAY,CAAC;YAChCS,MAAM,EAAEnB,OAAO,CAACmB,MAAM;YACtBJ,MAAM,EAAE8B;UACV,CAAC,CAAC;UACFD,UAAU,CAACI,KAAK,CAAC,CAAC;QACpB,CAAC,CAAC,OAAOjB,KAAK,EAAE;UACda,UAAU,CAACb,KAAK,CAACA,KAAK,CAAC;QACzB,CAAC,SAAS;UACRnB,QAAQ,CAACQ,MAAM,CAAC,CAAC;UACjByB,aAAa,CAACI,kBAAkB,CAAC,CAAC;QACpC;MACF;IACF,CAAC,CAAC;EACJ;EAEQtC,gBAAgBA,CAAA,EAAS;IAC/B,IAAI,CAAC,IAAI,CAACf,YAAY,EAAE;MACtB,MAAM,IAAIL,KAAK,CACb,gEACF,CAAC;IACH;EACF;AACF;;AAEA;AACA,IAAI2D,cAAsC,GAAG,IAAI;;AAEjD;AACA;AACA;AACA,MAAMC,iBAAiB,GAAGA,CAAA,KAAuB;EAC/C,IAAI,CAACD,cAAc,EAAE;IACnBA,cAAc,GAAG,IAAIzD,eAAe,CAAC,CAAC;EACxC;EACA,OAAOyD,cAAc;AACvB,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMzC,gBAAgB,GAAG,MAAAA,CAC9BT,OAAyB,EACzBC,KAAwB,KACH;EACrB,OAAOkD,iBAAiB,CAAC,CAAC,CAACpD,SAAS,CAACC,OAAO,EAAEC,KAAK,CAAC;AACtD,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMS,YAAY,GAAG,MAC1BV,OAA+B,IACd;EACjB,OAAOmD,iBAAiB,CAAC,CAAC,CAACzC,YAAY,CAACV,OAAO,CAAC;AAClD,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMqB,wBAAwB,GAAG,MACtCrB,OAA2B,IACV;EACjB,OAAOmD,iBAAiB,CAAC,CAAC,CAAC9B,wBAAwB,CAACrB,OAAO,CAAC;AAC9D,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMsB,iBAAiB,GAAG,MAC/BtB,OAAoC,IACnB;EACjB,OAAOmD,iBAAiB,CAAC,CAAC,CAAC7B,iBAAiB,CAACtB,OAAO,CAAC;AACvD,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMuC,YAAY,GAAG,MAAAA,CAAA,KAA8B;EACxD,OAAOY,iBAAiB,CAAC,CAAC,CAACb,KAAK,CAAC,CAAC;AACpC,CAAC;AAED,cAAc,SAAS","ignoreList":[]}