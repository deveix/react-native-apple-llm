{"version":3,"names":["NativeAppleLLM","EventEmitter","AppleLLMModule","console","log","Error","isFoundationModelsEnabled","AppleLLMSession","toolHandlers","Map","isConfigured","configure","options","tools","clear","Promise","all","map","tool","registerTool","success","configureSession","generateText","ensureConfigured","result","prompt","generateStructuredOutput","generateWithTools","activeToolListener","remove","undefined","streamListener","stream","onToolInvocation","event","handler","get","name","handleToolResult","id","error","parameters","message","toolDefinition","set","schema","reset","resetSession","dispose","generateTextStream","ReadableStream","start","controller","streamEmitter","on","chunk","enqueue","close","removeAllListeners","defaultSession","getDefaultSession"],"sourceRoot":"../../src","sources":["index.tsx"],"mappings":"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","ignoreList":[]}