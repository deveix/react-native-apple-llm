{"version":3,"names":["NativeAppleLLM","AppleLLMModule","console","log","Error","isFoundationModelsEnabled","AppleLLMSession","toolHandlers","Map","isConfigured","configure","options","tools","clear","Promise","all","map","tool","registerTool","success","configureSession","generateText","ensureConfigured","activeStreamListener","remove","undefined","stream","onTextGenerationChunk","event","_options$stream","emit","chunk","result","prompt","shouldStream","generateStructuredOutput","generateWithTools","activeToolListener","_options$stream2","onToolInvocation","handler","get","name","handleToolResult","id","error","parameters","message","maxTokens","temperature","toolTimeout","toolDefinition","set","schema","reset","resetSession","dispose","generateTextStream","ReadableStream","start","controller","listener","enqueue","close","defaultSession","getDefaultSession"],"sourceRoot":"../../src","sources":["index.tsx"],"mappings":"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","ignoreList":[]}